##### tmux.conf — Bright Pink/Green Mini‑Pill over Transparent (comma-safe) #####

# --- Prefix Key ---
set -g prefix C-s
unbind C-b
bind C-s send-prefix

# --- Truecolor / Terminfo ---
set -g default-terminal "tmux-256color"
set -as terminal-overrides ",*:RGB"   # robust 24-bit color across $TERM values

# --- General ---
set -g base-index 1
set -g mouse on
set -g status on
set -g status-interval 0
set -g status-justify left
set -g status-left "#[bg=default]#[fg=default]#[nobold]#[noitalics]#[nounderscore]#[fg=#ffff00]#[bg=#000000]#{@cap_left}#[fg=#090300]#[bg=#ffff00] #(hostname -s) #[fg=#ffff00]#[bg=#00bfff]#{@cap_right}#[fg=#00bfff]#[bg=#00bfff]#{@cap_left}#[fg=#090300]#[bg=#00bfff] #S #[fg=#00bfff]#[bg=default]#{@cap_right}#[bg=default]#[fg=default] "
set -g status-right ""
set -g status-left-length 0
set -g status-right-length 0

# Transparent bar; avoid attributes that can widen glyphs
set -g status-style "bg=default,fg=#ffffff,nobold,noitalics,nounderscore"
set -g window-status-style "bg=default,fg=default,nobold,noitalics,nounderscore"
set -g window-status-current-style "bg=default,fg=default,nobold,noitalics,nounderscore"

##### Pill Theme (Requires Nerd Font MONO) #####

# --- Colors ---
#set -g @pill_color_active_bg "#ffaf00"     # active pill background (orange)
#set -g @pill_color_active_fg "#000000"     # active text (black)
#set -g @pill_color_inactive_bg "#585858"   # inactive pill background (grey)
#set -g @pill_color_inactive_fg "#000000"   # inactive text (black)
set -g @pill_color_active_bg "#FF1493"     # active pill background (pink)
set -g @pill_color_active_fg "#090300"     # active text (black)
set -g @pill_color_inactive_bg "#00FF00"   # inactive pill background (green)
set -g @pill_color_inactive_fg "#090300"   # inactive text (black)
set -g @status_bg "default"                # transparent bar

# --- Glyphs (solid rounded caps) ---
set -g @cap_left  ""
set -g @cap_right ""

# --- Window list ---
set -g window-status-separator ""  # full manual control

# Inactive windows: full grey pill only at the list edges (prevents double edges).
# No styles are placed inside conditionals.
set -g window-status-format "\
#[bg=#{@status_bg}]#[fg=default]#[nobold]#[noitalics]#[nounderscore]\
#[fg=#{@pill_color_inactive_bg}]#[bg=#{@status_bg}]#{?window_start_flag,#{@cap_left},}\
#[fg=#{@pill_color_inactive_fg}]#[bg=#{@pill_color_inactive_bg}] #I:#W \
#[fg=#{@pill_color_inactive_bg}]#[bg=#{@status_bg}]#{?window_end_flag,#{@cap_right},}"

# Active window: always draw a self-contained orange capsule:
# Left cap:
#   - If first in list: cap is drawn on transparent bar (bg=status_bg)
#   - Else: cap is drawn on grey (bg=inactive_bg) so it looks like an orange pill on grey
# Label: orange background with a little padding
# Right cap mirrors the left logic.
set -g window-status-current-format "\
#[bg=#{@status_bg}]#[fg=default]#[nobold]#[noitalics]#[nounderscore]\
#{?window_start_flag,#[fg=#{@pill_color_active_bg}]#[bg=#{@status_bg}]#{@cap_left},#[fg=#{@pill_color_active_bg}]#[bg=#{@pill_color_inactive_bg}]#{@cap_left}}\
#[fg=#{@pill_color_active_fg}]#[bg=#{@pill_color_active_bg}]#[bold] #I:#W \
#{?window_end_flag,#[fg=#{@pill_color_active_bg}]#[bg=#{@status_bg}]#{@cap_right},#[fg=#{@pill_color_active_bg}]#[bg=#{@pill_color_inactive_bg}]#{@cap_right}}"

# --- Pane borders & messages ---
#set -g pane-border-style "fg=#ffaf00"
#set -g pane-active-border-style "fg=#ffaf00"
#set -g message-style "fg=#000000,bg=#ffaf00,bold"
#set -g mode-style "fg=#000000,bg=#ffaf00,bold"
set -g pane-border-lines "heavy"
set -g pane-border-style "fg=#00FF00"
set -g pane-active-border-style "fg=#00FF00"
set -g message-style "fg=#ffffff,bg=#FF1493,bold"
set -g mode-style "fg=#ffffff,bg=#FF1493,bold"

# --- Copy mode and clipboard behavior ---
set-window-option -g mode-keys vi

# Keep copy mode active after copying (do NOT cancel)
bind-key -T copy-mode-vi 'y' send-keys -X copy-pipe "xclip -selection clipboard -in"
bind-key -T copy-mode-vi 'Enter' send-keys -X copy-pipe "xclip -selection clipboard -in"
bind-key -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe "xclip -selection clipboard -in"

# Mouse scroll sensitivity (1-line steps)
bind-key -T copy-mode-vi WheelUpPane send-keys -X -N 5 scroll-up
bind-key -T copy-mode-vi WheelDownPane send-keys -X -N 5 scroll-down

# --- Reduce clutter ---
set -g window-status-activity-style "none"
set -g window-status-bell-style "none"
set -g pane-border-status off
set -g window-style "fg=default,bg=default"
set -g window-active-style "fg=default,bg=default"
